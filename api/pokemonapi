const request = require("supertest");
const url = "https://pokeapi.co/api/v2/pokemon";
const { mon } = require("../Tests/move-checker.spec");

async function pokemon() {
    const endPoint = `/${mon}`;
    const response = await request(url)
        .get(endPoint)
    if (response.status == 200) {return response;}
    console.error(response.body);
    throw new Error(`Received status code ${response.status} when attempting to GET to: ${endPoint}`)
}

module.exports = {
    pokemon
}